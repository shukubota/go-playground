package main

import (
	"bytes"
	"encoding/base64"
	"fmt"
	"image"
	_ "image/jpeg"
	_ "image/png"
	"io"
	"log"
	"os"
)

func main() {
	file, err := os.Open("./test.jpeg")
	defer file.Close()
	if err != nil {
		log.Fatal(err)
	}
	fmt.Println(file)
	b, err := base64.StdEncoding.DecodeString("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")
	if err != nil {
		log.Fatal(err)
	}
	// to reader
	r := bytes.NewReader(b)
	buf := new(bytes.Buffer)
	io.Copy(buf, r)
	img, encode, err := image.Decode(buf)

	if err != nil {
		fmt.Println(err)
		log.Fatal(err)
	}

	fmt.Println(img)
	fmt.Println(encode)
}
